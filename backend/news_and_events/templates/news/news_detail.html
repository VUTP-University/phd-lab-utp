<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Page Title -->
    <title>{{ news.title }} - PhD Lab</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="{{ news.title }}">
    <meta name="description" content="{{ news.description|striptags|truncatewords:50 }}">

    <!-- Open Graph / Facebook / LinkedIn -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="{{ page_url }}">
    <meta property="og:title" content="{{ news.title }}">
    <meta property="og:description" content="{{ news.description|striptags|truncatewords:50 }}">
    <meta property="og:site_name" content="PhD Lab - University of Telecommunications and Post">
    {% if image_url %}
    <meta property="og:image" content="{{ image_url }}">
    <meta property="og:image:url" content="{{ image_url }}">
    <meta property="og:image:secure_url" content="{{ image_url }}">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="{{ news.title }}">
    {% endif %}
    
    <!-- Article specific tags -->
    <meta property="article:published_time" content="{{ news.created_at|date:'c' }}">
    <meta property="article:modified_time" content="{{ news.updated_at|date:'c' }}">
    {% if news.author.first_name %}
    <meta property="article:author" content="{{ news.author.first_name }} {{ news.author.last_name }}">
    {% endif %}
    <meta property="article:section" content="{{ news.news_type|title }}">
    
    <!-- Redirect to React app immediately -->
    <script>
        window.location.href = '/';
        sessionStorage.setItem('openNewsId', '{{ news.id }}');
    </script>
    
    <!-- Fallback if JavaScript is disabled -->
    <noscript>
        <meta http-equiv="refresh" content="0;url=/">
    </noscript>
</head>
<body>
    <!-- This content is for social media crawlers only -->
    <article style="display:none;">
        <h1>{{ news.title }}</h1>
        <p>{{ news.description }}</p>
        {% if image_url %}
        <img src="{{ image_url }}" alt="{{ news.title }}" width="1200" height="630">
        {% endif %}
        <time datetime="{{ news.created_at|date:'c' }}">{{ news.created_at|date:"F j, Y" }}</time>
    </article>
    
    <!-- Loading message for users -->
    <div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif;">
        <p>Loading...</p>
    </div>
</body>
</html>